!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ChatbotConnect=t():e.ChatbotConnect=t()}(self,(()=>(()=>{"use strict";var e,t,n={61:(e,t,n)=>{var s={};n.r(s),n.d(s,{Decoder:()=>le,Encoder:()=>he,PacketType:()=>ce,protocol:()=>ae});const i=Object.create(null);i.open="0",i.close="1",i.ping="2",i.pong="3",i.message="4",i.upgrade="5",i.noop="6";const r=Object.create(null);Object.keys(i).forEach((e=>{r[i[e]]=e}));const o={type:"error",data:"parser error"},a="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),c="function"==typeof ArrayBuffer,h=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)},l=({type:e,data:t},n,s)=>{return a&&t instanceof Blob?n?s(t):h(t,s):c&&(t instanceof ArrayBuffer||(r=t,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer))?n?s(t):h(new Blob([t]),s):s(i[e]+(t||""));var r},d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let e=0;e<64;e++)p[d.charCodeAt(e)]=e;const u="function"==typeof ArrayBuffer,f=(e,t)=>{if(u){const n=(e=>{let t,n,s,i,r,o=.75*e.length,a=e.length,c=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);const h=new ArrayBuffer(o),l=new Uint8Array(h);for(t=0;t<a;t+=4)n=p[e.charCodeAt(t)],s=p[e.charCodeAt(t+1)],i=p[e.charCodeAt(t+2)],r=p[e.charCodeAt(t+3)],l[c++]=n<<2|s>>4,l[c++]=(15&s)<<4|i>>2,l[c++]=(3&i)<<6|63&r;return h})(e);return m(n,t)}return{base64:!0,data:e}},m=(e,t)=>"blob"===t&&e instanceof ArrayBuffer?new Blob([e]):e,g=(e,t)=>{if("string"!=typeof e)return{type:"message",data:m(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:f(e.substring(1),t)};return r[n]?e.length>1?{type:r[n],data:e.substring(1)}:{type:r[n]}:o},y=String.fromCharCode(30);function v(e){if(e)return function(e){for(var t in v.prototype)e[t]=v.prototype[t];return e}(e)}v.prototype.on=v.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},v.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},v.prototype.off=v.prototype.removeListener=v.prototype.removeAllListeners=v.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,s=this._callbacks["$"+e];if(!s)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<s.length;i++)if((n=s[i])===t||n.fn===t){s.splice(i,1);break}return 0===s.length&&delete this._callbacks["$"+e],this},v.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(n){s=0;for(var i=(n=n.slice(0)).length;s<i;++s)n[s].apply(this,t)}return this},v.prototype.emitReserved=v.prototype.emit,v.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},v.prototype.hasListeners=function(e){return!!this.listeners(e).length};const b="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function w(e,...t){return t.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{})}const _=b.setTimeout,x=b.clearTimeout;function k(e,t){t.useNativeTimers?(e.setTimeoutFn=_.bind(b),e.clearTimeoutFn=x.bind(b)):(e.setTimeoutFn=b.setTimeout.bind(b),e.clearTimeoutFn=b.clearTimeout.bind(b))}class E extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class C extends v{constructor(e){super(),this.writable=!1,k(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,t,n){return super.emitReserved("error",new E(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=g(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}}const A="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),O=64,T={};let B,L=0,S=0;function I(e){let t="";do{t=A[e%O]+t,e=Math.floor(e/O)}while(e>0);return t}function R(){const e=I(+new Date);return e!==B?(L=0,B=e):e+"."+I(L++)}for(;S<O;S++)T[A[S]]=S;function N(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}let j=!1;try{j="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){}const D=j;function q(e){const t=e.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!t||D))return new XMLHttpRequest}catch(e){}if(!t)try{return new(b[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}function P(){}const H=null!=new q({xdomain:!1}).responseType;class M extends v{constructor(e,t){super(),k(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.create()}create(){const e=w(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const t=this.xhr=new q(e);try{t.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(let e in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(e)&&t.setRequestHeader(e,this.opts.extraHeaders[e])}}catch(e){}if("POST"===this.method)try{t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(t.timeout=this.opts.requestTimeout),t.onreadystatechange=()=>{4===t.readyState&&(200===t.status||1223===t.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"==typeof t.status?t.status:0)}),0))},t.send(this.data)}catch(e){return void this.setTimeoutFn((()=>{this.onError(e)}),0)}"undefined"!=typeof document&&(this.index=M.requestsCount++,M.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=P,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete M.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(M.requestsCount=0,M.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",F);else if("function"==typeof addEventListener){addEventListener("onpagehide"in b?"pagehide":"unload",F,!1)}function F(){for(let e in M.requests)M.requests.hasOwnProperty(e)&&M.requests[e].abort()}const z="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),U=b.WebSocket||b.MozWebSocket,$="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();const V={websocket:class extends C{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,n=$?{}:w(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=$?new U(e,t,n):t?new U(e,t):new U(e)}catch(e){return this.emitReserved("error",e)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],s=t===e.length-1;l(n,this.supportsBinary,(e=>{try{this.ws.send(e)}catch(e){}s&&z((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const t=this.opts.secure?"wss":"ws";let n="";this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=R()),this.supportsBinary||(e.b64=1);const s=N(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(s.length?"?"+s:"")}check(){return!!U}},polling:class extends C{constructor(e){if(super(e),this.polling=!1,"undefined"!=typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}const t=e&&e.forceBase64;this.supportsBinary=H&&!t}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let e=0;this.polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(y),s=[];for(let e=0;e<n.length;e++){const i=g(n[e],t);if(s.push(i),"error"===i.type)break}return s})(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,s=new Array(n);let i=0;e.forEach(((e,r)=>{l(e,!1,(e=>{s[r]=e,++i===n&&t(s.join(y))}))}))})(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){let e=this.query||{};const t=this.opts.secure?"https":"http";let n="";!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=R()),this.supportsBinary||e.sid||(e.b64=1),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port);const s=N(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(s.length?"?"+s:"")}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new M(this.uri(),e)}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}},K=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Y=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function W(e){const t=e,n=e.indexOf("["),s=e.indexOf("]");-1!=n&&-1!=s&&(e=e.substring(0,n)+e.substring(n,s).replace(/:/g,";")+e.substring(s,e.length));let i=K.exec(e||""),r={},o=14;for(;o--;)r[Y[o]]=i[o]||"";return-1!=n&&-1!=s&&(r.source=t,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=function(e,t){const n=/\/{2,9}/g,s=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||s.splice(0,1);"/"==t.slice(-1)&&s.splice(s.length-1,1);return s}(0,r.path),r.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,s){t&&(n[t]=s)})),n}(0,r.query),r}class Q extends v{constructor(e,t={}){super(),this.writeBuffer=[],e&&"object"==typeof e&&(t=e,e=null),e?(e=W(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=W(t.host).host),k(this,t),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let e=0,s=n.length;e<s;e++){let s=n[e].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new V[e](n)}open(){let e;if(this.opts.rememberUpgrade&&Q.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(e=>this.onClose("transport close",e)))}probe(e){let t=this.createTransport(e),n=!1;Q.priorWebsocketSuccess=!1;const s=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",(e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Q.priorWebsocketSuccess="websocket"===t.name,this.transport.pause((()=>{n||"closed"!==this.readyState&&(h(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}})))};function i(){n||(n=!0,h(),t.close(),t=null)}const r=e=>{const n=new Error("probe error: "+e);n.transport=t.name,i(),this.emitReserved("upgradeError",n)};function o(){r("transport closed")}function a(){r("socket closed")}function c(e){t&&e.name!==t.name&&i()}const h=()=>{t.removeListener("open",s),t.removeListener("error",r),t.removeListener("close",o),this.off("close",a),this.off("upgrading",c)};t.once("open",s),t.once("error",r),t.once("close",o),this.once("close",a),this.once("upgrading",c),t.open()}onOpen(){if(this.readyState="open",Q.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade){let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(e+="string"==typeof(t=s)?function(e){let t=0,n=0;for(let s=0,i=e.length;s<i;s++)t=e.charCodeAt(s),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(s++,n+=4);return n}(t):Math.ceil(1.33*(t.byteLength||t.size))),n>0&&e>this.maxPayload)return this.writeBuffer.slice(0,n);e+=2}var t;return this.writeBuffer}write(e,t,n){return this.sendPacket("message",e,t,n),this}send(e,t,n){return this.sendPacket("message",e,t,n),this}sendPacket(e,t,n,s){if("function"==typeof t&&(s=t,t=void 0),"function"==typeof n&&(s=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const i={type:e,data:t,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():e()})):this.upgrading?n():e()),this}onError(e){Q.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let n=0;const s=e.length;for(;n<s;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}Q.protocol=4;Q.protocol;const J="function"==typeof ArrayBuffer,X=e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,G=Object.prototype.toString,Z="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===G.call(Blob),ee="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===G.call(File);function te(e){return J&&(e instanceof ArrayBuffer||X(e))||Z&&e instanceof Blob||ee&&e instanceof File}function ne(e,t){if(!e||"object"!=typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(ne(e[t]))return!0;return!1}if(te(e))return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return ne(e.toJSON(),!0);for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&ne(e[t]))return!0;return!1}function se(e){const t=[],n=e.data,s=e;return s.data=ie(n,t),s.attachments=t.length,{packet:s,buffers:t}}function ie(e,t){if(!e)return e;if(te(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let s=0;s<e.length;s++)n[s]=ie(e[s],t);return n}if("object"==typeof e&&!(e instanceof Date)){const n={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=ie(e[s],t));return n}return e}function re(e,t){return e.data=oe(e.data,t),delete e.attachments,e}function oe(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"==typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=oe(e[n],t);else if("object"==typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=oe(e[n],t));return e}const ae=5;var ce;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(ce||(ce={}));class he{constructor(e){this.replacer=e}encode(e){return e.type!==ce.EVENT&&e.type!==ce.ACK||!ne(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===ce.EVENT?ce.BINARY_EVENT:ce.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==ce.BINARY_EVENT&&e.type!==ce.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=se(e),n=this.encodeAsString(t.packet),s=t.buffers;return s.unshift(n),s}}class le extends v{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===ce.BINARY_EVENT;n||t.type===ce.BINARY_ACK?(t.type=n?ce.EVENT:ce.ACK,this.reconstructor=new de(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!te(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===ce[n.type])throw new Error("unknown packet type "+n.type);if(n.type===ce.BINARY_EVENT||n.type===ce.BINARY_ACK){const s=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const i=e.substring(s,t);if(i!=Number(i)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(i)}if("/"===e.charAt(t+1)){const s=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(s,t)}else n.nsp="/";const s=e.charAt(t+1);if(""!==s&&Number(s)==s){const s=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(s,t+1))}if(e.charAt(++t)){const s=this.tryParse(e.substr(t));if(!le.isPayloadValid(n.type,s))throw new Error("invalid payload");n.data=s}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(e){return!1}}static isPayloadValid(e,t){switch(e){case ce.CONNECT:return"object"==typeof t;case ce.DISCONNECT:return void 0===t;case ce.CONNECT_ERROR:return"string"==typeof t||"object"==typeof t;case ce.EVENT:case ce.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case ce.ACK:case ce.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class de{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=re(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function pe(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const ue=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class fe extends v{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[pe(e,"open",this.onopen.bind(this)),pe(e,"packet",this.onpacket.bind(this)),pe(e,"error",this.onerror.bind(this)),pe(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(ue.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const n={type:ce.EVENT,data:t,options:{}};if(n.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const e=this.ids++,s=t.pop();this._registerAckCallback(e,s),n.id=e}const s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!s||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(e,t){var n;const s=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===s)return void(this.acks[e]=t);const i=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),s);this.acks[e]=(...e)=>{this.io.clearTimeoutFn(i),t.apply(this,[null,...e])}}emitWithAck(e,...t){const n=void 0!==this.flags.timeout||void 0!==this._opts.ackTimeout;return new Promise(((s,i)=>{t.push(((e,t)=>n?e?i(e):s(t):s(e))),this.emit(e,...t)}))}_addToQueue(e){let t;"function"==typeof e[e.length-1]&&(t=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push(((e,...s)=>{if(n!==this._queue[0])return;return null!==e?n.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(e)):(this._queue.shift(),t&&t(null,...s)),n.pending=!1,this._drainQueue()})),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this._sendConnectPacket(e)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:ce.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case ce.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ce.EVENT:case ce.BINARY_EVENT:this.onevent(e);break;case ce.ACK:case ce.BINARY_ACK:this.onack(e);break;case ce.DISCONNECT:this.ondisconnect();break;case ce.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"==typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(...s){n||(n=!0,t.packet({type:ce.ACK,id:e,data:s}))}}onack(e){const t=this.acks[e.id];"function"==typeof t&&(t.apply(this,e.data),delete this.acks[e.id])}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ce.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function me(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}me.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},me.prototype.reset=function(){this.attempts=0},me.prototype.setMin=function(e){this.ms=e},me.prototype.setMax=function(e){this.max=e},me.prototype.setJitter=function(e){this.jitter=e};class ge extends v{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,k(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=t.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new me({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const i=t.parser||s;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Q(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const s=pe(t,"open",(function(){n.onopen(),e&&e()})),i=pe(t,"error",(t=>{n.cleanup(),n._readyState="closed",this.emitReserved("error",t),e?e(t):n.maybeReconnectOnOpen()}));if(!1!==this._timeout){const e=this._timeout;0===e&&s();const n=this.setTimeoutFn((()=>{s(),t.close(),t.emit("error",new Error("timeout"))}),e);this.opts.autoUnref&&n.unref(),this.subs.push((function(){clearTimeout(n)}))}return this.subs.push(s),this.subs.push(i),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(pe(e,"ping",this.onping.bind(this)),pe(e,"data",this.ondata.bind(this)),pe(e,"error",this.onerror.bind(this)),pe(e,"close",this.onclose.bind(this)),pe(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(e){this.onclose("parse error",e)}}ondecoded(e){z((()=>{this.emitReserved("packet",e)}),this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new fe(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const e of t){if(this.nsps[e].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()})))}),t);this.opts.autoUnref&&n.unref(),this.subs.push((function(){clearTimeout(n)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const ye={};function ve(e,t){"object"==typeof e&&(t=e,e=void 0);const n=function(e,t="",n){let s=e;n=n||"undefined"!=typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e=void 0!==n?n.protocol+"//"+e:"https://"+e),s=W(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const i=-1!==s.host.indexOf(":")?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+i+":"+s.port+t,s.href=s.protocol+"://"+i+(n&&n.port===s.port?"":":"+s.port),s}(e,(t=t||{}).path||"/socket.io"),s=n.source,i=n.id,r=n.path,o=ye[i]&&r in ye[i].nsps;let a;return t.forceNew||t["force new connection"]||!1===t.multiplex||o?a=new ge(s,t):(ye[i]||(ye[i]=new ge(s,t)),a=ye[i]),n.query&&!t.query&&(t.query=n.queryKey),a.socket(n.path,t)}Object.assign(ve,{Manager:ge,Socket:fe,io:ve,connect:ve});const be={user:e=>`<span class="user js-user">${e}<span class="resend-icon hidden"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n                            <path fill="none" d="M0 0h24v24H0V0z"/>\n                            <path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/>\n                          </svg></span></span>`,assistant:e=>`<span class="assistant">${e}</span>`},we='<div id="wave">\n  <span class="dot"></span>\n  <span class="dot"></span>\n  <span class="dot"></span>\n</div>',_e={user:"user",assistant:"assistant"},xe={image:"https://assets.appsforfit.com/assets/avatars/practitioner-1.png",role:"Lead Nutrition Expert, PhD",name:"Jenny Wilson",welcome:"Chat for 1 min, and get diet advise for free!",ctaTextContent:"Customize Your Plan!",initialMessage:{role:_e.assistant,content:"Hey there! I'm here to provide nutritional assistance. Let's create the perfect meal plan tailored to your favorite foods. Please share your diet goals with me!",time:new Date}},ke=/((?:https?:\/\/|www\.)[^\s/$.?#].[^\s]*)\b/gi;function Ee(e){const t=function(e){return/[?&]([^=#]+)=([^&#]*)/g.test(e)}(e),n=e.match(ke),s=n?n[0]:"";return!!s&&(t?s:s+window.location.search)}const Ce="history",Ae="chatSeen",Oe="--font-family",Te={theme:{"--lumina":"#f0f2f5","--whisper":"#ffffff","--seraph":"#21bb5a","--ember":"#cacadb","--zephyr":"43, 49, 57","--enigma":"#FFAE19","--font-family":"Roboto"},assistant:xe,events:{chat:"chat",chatHistory:"chat-history",connect:"connect",disconnect:"disconnect"},roles:_e,fontFamily:"Arial",socket:null,elements:null,userId:null,term:null,url:null,initialHeight:null,lastQuestionData:{term:"",user_id:"",message:""},init(e="http://localhost:5000",t={},n={},s="chatbot-container"){localStorage.getItem(Ae)?this.closeSocket():(this.url=e,this.theme={...this.theme,...n},this.assistant={...this.assistant,...t},this.mainContainer=document.getElementById(s),this.setMessageObject(),this.setCustomVars(),this.setCustomFont(),this.setDomContent(),this.setSocket())},setMessageObject(){this.lastQuestionData.term=this.getTerm(),this.lastQuestionData.user_id=localStorage.getItem("__cid")},getTerm(){const e=window.location.search;return new URLSearchParams(e).get("utm_chat")},onChatHistory(e){e.history.unshift(this.assistant.initialMessage),localStorage.setItem(Ce,JSON.stringify(e.history)),1===e.history.length?(this.elements.messageIncrementor.innerHTML+=we,setTimeout((()=>{document.getElementById("wave").remove(),this.appendHtml(e.history[0])}),1500)):this.loadExistingMessages()},closeSocket(){this.socket&&this.socket.close()},setSocket(){this.socket=ve.connect(this.url,{transports:["websocket","polling"],upgrade:!0,secure:!0,reconnect:!0}),this.socket.on(this.events.chat,this.onChat.bind(this)),this.socket.on(this.events.chatHistory,this.onChatHistory.bind(this)),this.socket.emit(this.events.chatHistory,{user_id:this.lastQuestionData.user_id})},onChat(e){const{messages:t,errors:n}=e;if(n&&n.length)return document.getElementById("wave")?.remove(),void this.onError();const s=t[t.length-1],i=Ee(s.content),r=document.getElementById("wave");var o,a;setTimeout((()=>{r&&r.remove(),this.toggleActiveTextarea(),this.appendHtml(s),i&&this.setLink(i)}),(o=2500,a=5e3,Math.floor(Math.random()*a)+o))},setLink(e){const t=this.elements.messageIncrementor.querySelectorAll(".assistant")[this.elements.messageIncrementor.querySelectorAll(".assistant").length-1];t.innerHTML=function(e){const t=e.match(ke),n=t?t[0]:"";return e.replace(ke,`<a class="underline" href="${Ee(e)}">${n}</a>`)}(t.textContent),this.elements.ctaButton.classList.remove("hidden"),this.elements.ctaButton.setAttribute("href",e),this.elements.promptContainer.classList.add("hidden")},setCustomVars(){Object.entries(this.theme).forEach((([e,t])=>{e===Oe&&(this.fontFamily=t),this.mainContainer.style.setProperty(e,t)}))},setCustomFont(){if(document.fonts.check(`1em ${this.fontFamily}`))return;const e=document.createElement("link");e.rel="stylesheet",e.href=`https://fonts.googleapis.com/css2?family=${this.fontFamily.replace(/\s/g,"+")}&display=swap`,document.head.appendChild(e)},setDomContent(){const e=document.createElement("style");var t,n;this.initialHeight=window.innerHeight,e.textContent=(t=this.initialHeight,`html {\n  box-sizing: border-box;\n  font-size: 16px;\n}\n\n*,\n:after,\n:before {\n  box-sizing: inherit;\n}\n\nbutton:focus,\ninput:focus {\n  outline: 0;\n}\n\na {\n  color: inherit;\n  text-decoration: none;\n}\n\ninput {\n  -webkit-appearance: none;\n}\n\nbutton,\ninput,\ntextarea {\n  margin: 0;\n  border: 0;\n  padding: 0;\n  display: inline-block;\n  vertical-align: middle;\n  white-space: normal;\n  background: 0 0;\n  color: rgb(var(--zephyr));\n}\n\n:focus-visible {\n  outline: 0;\n}\n\ninput:focus {\n  outline: 0;\n}\n\ninput,\ntextarea {\n  -webkit-box-sizing: content-box;\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n}\n\ntextarea {\n  resize: none;\n  width: 100%;\n  height: 100%;\n  font-size: 16px;\n  font-weight: 600;\n  line-height: 1.5;\n  position: relative;\n}\n\nimg {\n  max-width: 100%;\n  height: auto;\n}\n\n.chat-widget {\n  width: 100%;\n  position: fixed;\n  bottom: 0;\n  left: 50%;\n  transform: translateX(-50%);\n  z-index: 9999;\n  height: ${t}px;\n  overflow: hidden;\n  display: flex;\n  justify-content: space-between;\n  flex-direction: column;\n  color: rgb(var(--zephyr));\n  background-color: var(--whisper);\n  margin: auto;\n  max-width: 800px;\n}\n\n.chat-widget__head {\n  height: fit-content;\n  padding: 11px 20px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  box-shadow: -1px 2px 5px 0 rgba(var(--zephyr), .1);\n}\n\n.chat-widget__info .img {\n  border-radius: 100%;\n  display: block;\n  overflow: hidden;\n  width: 50px;\n  height: 50px;\n  margin-right: 10px;\n  position: relative;\n}\n\n.chat-widget__info {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: relative;\n}\n\n.chat-widget__info:before {\n  content: '';\n  position: absolute;\n  width: 10px;\n  height: 10px;\n  background-color: var(--seraph);\n  bottom: 0;\n  left: 37px;\n  z-index: 1;\n  border-radius: 100%;\n}\n\n.chat-widget__info img {\n  width: 100%;\n  height: 100%;\n}\n\n.w-name {\n  font-size: 24px;\n  font-weight: 600;\n  text-align: center;\n}\n\n.w-role {\n  color: rgba(var(--zephyr), .6);\n  text-align: center;\n}\n\n.chat-widget__role {\n  display: flex;\n  flex-direction: column;\n}\n\n.widget-name {\n  font-size: 20px;\n  font-weight: 700;\n}\n\n.widget-role {\n  font-size: 16px;\n  color: rgba(var(--zephyr), .8);\n}\n\n.chat-widget__close {\n  cursor: pointer;\n  color: var(--seraph);\n}\n\n.widget__input {\n  border-radius: 20px;\n  background-color: var(--lumina);\n  width: 100%;\n  max-height: 46px;\n  overflow: hidden;\n  padding: 11px 15px;\n  margin-right: 11px;\n}\n\n.widget__button {\n  color: var(--seraph);\n  cursor: pointer;\n}\n\n.chat-widget__prompt {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 11px 20px;\n  height: fit-content;\n}\n\n.chat-widget__messages {\n  width: 100%;\n  height: 100%;\n  padding: 40px 20px 20px;\n  font-size: 16px;\n  font-weight: 600;\n  line-height: 1.5;\n  overflow-y: scroll;\n}\n\n.chat-widget__initiator-profile {\n  margin-inline: auto;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding-top: 20px;\n  padding-bottom: 40px;\n}\n\n.chat-widget__initiator-profile .img {\n  width: 60px;\n  height: 60px;\n  overflow: hidden;\n  position: relative;\n  display: inline-block;\n  margin: auto;\n  border-radius: 100%;\n}\n\n.chat-widget__initiator-profile img {\n  width: 100%;\n  height: auto;\n}\n\n.resend-icon {\n  position: absolute;\n  top: 60%;\n  width: 24px;\n  height: 24px;\n  border-radius: 100%;\n  background: var(--seraph);\n  pointer-events: all;\n}\n\n.resend-icon svg {\n  position: absolute;\n  width: 20px;\n  height: 20px;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  fill: white;\n}\n\n.chat-widget__messages .user,\n.chat-widget__messages .assistant {\n  position: relative;\n  display: block;\n  background-color: var(--lumina);\n  width: fit-content;\n  margin-left: 0;\n  margin-right: auto;\n  padding: 11px 15px;\n  border-radius: 20px;\n  max-width: 375px;\n  margin-bottom: 20px;\n  white-space: pre-wrap;\n}\n\n.chat-widget__messages .date-formatted {\n  text-align: center;\n  color: rgba(var(--zephyr), .4);\n  font-size: 14px;\n  margin-bottom: 5px;\n}\n\n.chat-widget__messages .assistant {\n  background-color: var(--seraph);\n  color: #fff;\n  margin-left: auto;\n  margin-right: 0;\n}\n\n.chat-container {\n  font-family: var(--font-family);\n  background: var(--lumina);\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n\n.assistant-welcome {\n  text-align: center;\n  margin-inline: 30px;\n  margin-bottom: 30px;\n  max-width: 400px;\n}\n\n.chat-widget__cta {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: 11px 20px;\n  max-width: 375px;\n  color: rgba(var(--zephyr));\n  cursor: pointer;\n  position: relative;\n  letter-spacing: 2px;\n  padding: 11px 20px;\n  border-radius: 20px;\n  margin-inline: auto;\n  max-width: 320px;\n  width: 100%;\n  font-weight: bolder;\n  font-size: 20px;\n  background: var(--enigma);\n  box-shadow: 0px 12px 24px -4px rgba(255, 174, 25, 0.2);\n}\n\ndiv#wave {\n  position: relative;\n  text-align: center;\n  width: 100px;\n  height: 100px;\n  margin-left: auto;\n  margin-right: 0;\n}\n\ndiv#wave .dot {\n  display: inline-block;\n  width: 12px;\n  height: 12px;\n  border-radius: 50%;\n  margin-right: 3px;\n  background: var(--seraph);\n  animation: wave 1.3s linear infinite;\n}\n\ndiv#wave .dot:nth-child(2) {\n  animation-delay: -1.1s;\n}\n\ndiv#wave .dot:nth-child(3) {\n  animation-delay: -0.9s;\n}\n\n@keyframes wave {\n  0%,\n  60%,\n  100% {\n    transform: initial;\n  }\n\n  30% {\n    transform: translateY(-15px);\n  }\n}\n\n.underline {\n  text-decoration: underline;\n}\n\n.hidden {\n  display: none;\n}`.replace(/\n/g,"").replace(/\s\s+/g," ")),this.mainContainer.classList.add("chat-container"),this.mainContainer.innerHTML+=`<div class="chat-widget">\n  <div class="chat-widget__head">\n    <div class="chat-widget__info">\n      <span class="img">\n        <img src="${(n=this).assistant.image}" alt="image">\n      </span>\n      <span class="chat-widget__role">\n        <span class="widget-name">${n.assistant.name}</span>\n        <span class="widget-role">${n.assistant.role}</span>\n      </span>\n    </div>\n    <div class="chat-widget__close" id="close-widget">\n      <svg height="24px" viewBox="0 0 24 24" width="24px">\n        <g stroke="currentColor" stroke-linecap="round" stroke-width="2">\n          <line x1="6" x2="18" y1="6" y2="18"></line>\n          <line x1="6" x2="18" y1="18" y2="6"></line>\n        </g>\n      </svg>\n    </div>\n  </div>\n  <div class="chat-widget__messages" id="scroll-incrementor">\n  <div class="chat-widget__initiator-profile">\n  <span class="assistant-welcome">${n.assistant.welcome}</span>\n  <span class="img">\n  <img src="${n.assistant.image}" alt="image">\n  </span>\n  <span class="w-start-profile">\n  <div class="w-name">${n.assistant.name}</div>\n  <div class="w-role">${n.assistant.role}</div>\n  </span>\n  </div>\n  <div class="chat-widget__messages-container" id="message-incrementor"></div>\n  </div>\n  <a class="chat-widget__cta hidden" id="cta-button">${n.assistant.ctaTextContent}</a>\n  <div class="chat-widget__prompt" id="prompt-container">\n    <span class="widget__input">\n      <textarea id="chat-prompt" name="chat-prompt"></textarea>\n    </span>\n    <div class="widget__button" id="send-button">\n      <svg fill="currentColor" height="20px" viewBox="0 0 24 24" width="20px">\n        <path d="M16.6915026,12.4744748 L3.50612381,13.2599618 C3.19218622,13.2599618 3.03521743,13.4170592 3.03521743,13.5741566 L1.15159189,20.0151496 C0.8376543,20.8006365 0.99,21.89 1.77946707,22.52 C2.41,22.99 3.50612381,23.1 4.13399899,22.8429026 L21.714504,14.0454487 C22.6563168,13.5741566 23.1272231,12.6315722 22.9702544,11.6889879 C22.8132856,11.0605983 22.3423792,10.4322088 21.714504,10.118014 L4.13399899,1.16346272 C3.34915502,0.9 2.40734225,1.00636533 1.77946707,1.4776575 C0.994623095,2.10604706 0.8376543,3.0486314 1.15159189,3.99121575 L3.03521743,10.4322088 C3.03521743,10.5893061 3.34915502,10.7464035 3.50612381,10.7464035 L16.6915026,11.5318905 C16.6915026,11.5318905 17.1624089,11.5318905 17.1624089,12.0031827 C17.1624089,12.4744748 16.6915026,12.4744748 16.6915026,12.4744748 Z"></path>\n      </svg>\n    </div>\n  </div>\n</div>`,this.mainContainer.appendChild(e),this.setElements(),this.attachListeners()},setElements(){this.elements={messageInput:document.getElementById("chat-prompt"),sendButton:document.getElementById("send-button"),messageIncrementor:document.getElementById("message-incrementor"),closeButton:document.getElementById("close-widget"),ctaButton:document.getElementById("cta-button"),promptContainer:document.getElementById("prompt-container")}},appendHtml(e){const{time:t,role:n,content:s}=e;var i;this.elements.messageIncrementor.innerHTML+=`<div class="date-formatted">${i=t,`${new Date(i).toLocaleDateString(void 0,{day:"numeric",month:"long",year:"numeric",hour:"numeric",minute:"numeric"})}`.toUpperCase()}</div>`+be[n](s),this.scrollToBottom()},scrollToBottom(){const e=this.elements.messageIncrementor.parentElement;e.scrollTop=e.scrollHeight},loadExistingMessages(){const e=JSON.parse(localStorage.getItem(Ce));e&&(this.elements.messageIncrementor.innerHTML="",e.forEach((e=>this.appendHtml(e))))},sendMessage(){const e=this.elements.messageInput.value.trim();if(""===e)return;const t={role:"user",content:e,time:(new Date).toISOString()};this.lastQuestionData.message=e,this.appendHtml(t),this.socketEmitChat()},socketEmitChat(){const e=this.getLastUserMessageElement();this.socket.connected?(this.socket.emit(this.events.chat,this.lastQuestionData),this.elements.messageIncrementor.innerHTML+=we):(e&&e.querySelector(".resend-icon").classList.add("hidden"),setTimeout((()=>{this.onError()}),2e3)),this.toggleActiveTextarea(),this.scrollToBottom(),this.elements.messageInput.value=""},onError(){const e=this.getLastUserMessageElement();e&&(e.style.cursor="pointer",e.addEventListener("click",this.socketEmitChat.bind(this,this.lastQuestionData)),e.querySelector(".resend-icon").classList.remove("hidden"))},getLastUserMessageElement(){const e=this.elements.messageIncrementor.querySelectorAll(".user")[this.elements.messageIncrementor.querySelectorAll(".user").length-1];if(e&&e.classList.contains("user")){const t=e.cloneNode(!0);return e.parentNode.replaceChild(t,e),t}return null},closeWidget(){this.mainContainer.innerHTML="",this.closeSocket(),localStorage.setItem(Ae,!0)},attachListeners(){this.elements.closeButton.addEventListener("click",this.closeWidget.bind(this)),this.elements.sendButton.addEventListener("click",this.sendMessage.bind(this)),this.elements.ctaButton.addEventListener("click",this.closeWidget.bind(this)),this.elements.messageInput.addEventListener("keydown",(e=>this.onKeyDown(e)))},onKeyDown(e){"Enter"===e.key&&(e.preventDefault(),this.sendMessage())},toggleActiveTextarea(){this.elements.messageInput.style.pointerEvents="none"===this.elements.messageInput.style.pointerEvents?"auto":"none",this.elements.messageInput.disabled=!this.elements.messageInput.disabled,this.elements.sendButton.style.pointerEvents="none"===this.elements.sendButton.style.pointerEvents?"auto":"none",this.elements.sendButton.disable=!this.elements.sendButton.disable,this.elements.messageInput===document.activeElement?this.elements.messageInput.blur():this.elements.messageInput.focus()}},Be=Te;document.addEventListener("DOMContentLoaded",(()=>{!localStorage.getItem("__cid")&&localStorage.setItem("__cid",([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))),Be.init("http://localhost:5000",{ctaTextContent:"goodbuy"})}))}},s={};function i(e){var t=s[e];if(void 0!==t){if(void 0!==t.error)throw t.error;return t.exports}var r=s[e]={exports:{}};try{var o={id:e,module:r,factory:n[e],require:i};i.i.forEach((function(e){e(o)})),r=o.module,o.factory.call(r.exports,r,r.exports,o.require)}catch(e){throw r.error=e,e}return r.exports}i.m=n,i.c=s,i.i=[],i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.hu=e=>e+"."+i.h()+".hot-update.js",i.hmrF=()=>"main."+i.h()+".hot-update.json",i.h=()=>"c8fe299c5a43f6c9e75e",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="ChatbotConnect:",i.l=(n,s,r,o)=>{if(e[n])e[n].push(s);else{var a,c;if(void 0!==r)for(var h=document.getElementsByTagName("script"),l=0;l<h.length;l++){var d=h[l];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+r){a=d;break}}a||(c=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,i.nc&&a.setAttribute("nonce",i.nc),a.setAttribute("data-webpack",t+r),a.src=n),e[n]=[s];var p=(t,s)=>{a.onerror=a.onload=null,clearTimeout(u);var i=e[n];if(delete e[n],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(s))),t)return t(s)},u=setTimeout(p.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=p.bind(null,a.onerror),a.onload=p.bind(null,a.onload),c&&document.head.appendChild(a)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e,t,n,s={},r=i.c,o=[],a=[],c="idle",h=0,l=[];function d(e){c=e;for(var t=[],n=0;n<a.length;n++)t[n]=a[n].call(null,e);return Promise.all(t)}function p(){0==--h&&d("ready").then((function(){if(0===h){var e=l;l=[];for(var t=0;t<e.length;t++)e[t]()}}))}function u(e){if("idle"!==c)throw new Error("check() is only allowed in idle status");return d("check").then(i.hmrM).then((function(n){return n?d("prepare").then((function(){var s=[];return t=[],Promise.all(Object.keys(i.hmrC).reduce((function(e,r){return i.hmrC[r](n.c,n.r,n.m,e,t,s),e}),[])).then((function(){return t=function(){return e?m(e):d("ready").then((function(){return s}))},0===h?t():new Promise((function(e){l.push((function(){e(t())}))}));var t}))})):d(g()?"ready":"idle").then((function(){return null}))}))}function f(e){return"ready"!==c?Promise.resolve().then((function(){throw new Error("apply() is only allowed in ready status (state: "+c+")")})):m(e)}function m(e){e=e||{},g();var s=t.map((function(t){return t(e)}));t=void 0;var i=s.map((function(e){return e.error})).filter(Boolean);if(i.length>0)return d("abort").then((function(){throw i[0]}));var r=d("dispose");s.forEach((function(e){e.dispose&&e.dispose()}));var o,a=d("apply"),c=function(e){o||(o=e)},h=[];return s.forEach((function(e){if(e.apply){var t=e.apply(c);if(t)for(var n=0;n<t.length;n++)h.push(t[n])}})),Promise.all([r,a]).then((function(){return o?d("fail").then((function(){throw o})):n?m(e).then((function(e){return h.forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e})):d("idle").then((function(){return h}))}))}function g(){if(n)return t||(t=[]),Object.keys(i.hmrI).forEach((function(e){n.forEach((function(n){i.hmrI[e](n,t)}))})),n=void 0,!0}i.hmrD=s,i.i.push((function(l){var m,g,y,v,b=l.module,w=function(t,n){var s=r[n];if(!s)return t;var i=function(i){if(s.hot.active){if(r[i]){var a=r[i].parents;-1===a.indexOf(n)&&a.push(n)}else o=[n],e=i;-1===s.children.indexOf(i)&&s.children.push(i)}else console.warn("[HMR] unexpected require("+i+") from disposed module "+n),o=[];return t(i)},a=function(e){return{configurable:!0,enumerable:!0,get:function(){return t[e]},set:function(n){t[e]=n}}};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&"e"!==l&&Object.defineProperty(i,l,a(l));return i.e=function(e){return function(e){switch(c){case"ready":d("prepare");case"prepare":return h++,e.then(p,p),e;default:return e}}(t.e(e))},i}(l.require,l.id);b.hot=(m=l.id,g=b,v={_acceptedDependencies:{},_acceptedErrorHandlers:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:y=e!==m,_requireSelf:function(){o=g.parents.slice(),e=y?void 0:m,i(m)},active:!0,accept:function(e,t,n){if(void 0===e)v._selfAccepted=!0;else if("function"==typeof e)v._selfAccepted=e;else if("object"==typeof e&&null!==e)for(var s=0;s<e.length;s++)v._acceptedDependencies[e[s]]=t||function(){},v._acceptedErrorHandlers[e[s]]=n;else v._acceptedDependencies[e]=t||function(){},v._acceptedErrorHandlers[e]=n},decline:function(e){if(void 0===e)v._selfDeclined=!0;else if("object"==typeof e&&null!==e)for(var t=0;t<e.length;t++)v._declinedDependencies[e[t]]=!0;else v._declinedDependencies[e]=!0},dispose:function(e){v._disposeHandlers.push(e)},addDisposeHandler:function(e){v._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=v._disposeHandlers.indexOf(e);t>=0&&v._disposeHandlers.splice(t,1)},invalidate:function(){switch(this._selfInvalidated=!0,c){case"idle":t=[],Object.keys(i.hmrI).forEach((function(e){i.hmrI[e](m,t)})),d("ready");break;case"ready":Object.keys(i.hmrI).forEach((function(e){i.hmrI[e](m,t)}));break;case"prepare":case"check":case"dispose":case"apply":(n=n||[]).push(m)}},check:u,apply:f,status:function(e){if(!e)return c;a.push(e)},addStatusHandler:function(e){a.push(e)},removeStatusHandler:function(e){var t=a.indexOf(e);t>=0&&a.splice(t,1)},data:s[m]},e=void 0,v),b.parents=o,b.children=[],o=[],l.require=w})),i.hmrC={},i.hmrI={}})(),(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var s=n.length-1;s>-1&&!e;)e=n[s--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),(()=>{var e,t,n,s,r,o=i.hmrS_jsonp=i.hmrS_jsonp||{179:0},a={};function c(t,n){return e=n,new Promise(((e,n)=>{a[t]=e;var s=i.p+i.hu(t),r=new Error;i.l(s,(e=>{if(a[t]){a[t]=void 0;var s=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;r.message="Loading hot update chunk "+t+" failed.\n("+s+": "+i+")",r.name="ChunkLoadError",r.type=s,r.request=i,n(r)}}))}))}function h(e){function a(e){for(var t=[e],n={},s=t.map((function(e){return{chain:[e],id:e}}));s.length>0;){var r=s.pop(),o=r.id,a=r.chain,h=i.c[o];if(h&&(!h.hot._selfAccepted||h.hot._selfInvalidated)){if(h.hot._selfDeclined)return{type:"self-declined",chain:a,moduleId:o};if(h.hot._main)return{type:"unaccepted",chain:a,moduleId:o};for(var l=0;l<h.parents.length;l++){var d=h.parents[l],p=i.c[d];if(p){if(p.hot._declinedDependencies[o])return{type:"declined",chain:a.concat([d]),moduleId:o,parentId:d};-1===t.indexOf(d)&&(p.hot._acceptedDependencies[o]?(n[d]||(n[d]=[]),c(n[d],[o])):(delete n[d],t.push(d),s.push({chain:a.concat([d]),id:d})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function c(e,t){for(var n=0;n<t.length;n++){var s=t[n];-1===e.indexOf(s)&&e.push(s)}}i.f&&delete i.f.jsonpHmr,t=void 0;var h={},l=[],d={},p=function(e){console.warn("[HMR] unexpected require("+e.id+") to disposed module")};for(var u in n)if(i.o(n,u)){var f,m=n[u],g=!1,y=!1,v=!1,b="";switch((f=m?a(u):{type:"disposed",moduleId:u}).chain&&(b="\nUpdate propagation: "+f.chain.join(" -> ")),f.type){case"self-declined":e.onDeclined&&e.onDeclined(f),e.ignoreDeclined||(g=new Error("Aborted because of self decline: "+f.moduleId+b));break;case"declined":e.onDeclined&&e.onDeclined(f),e.ignoreDeclined||(g=new Error("Aborted because of declined dependency: "+f.moduleId+" in "+f.parentId+b));break;case"unaccepted":e.onUnaccepted&&e.onUnaccepted(f),e.ignoreUnaccepted||(g=new Error("Aborted because "+u+" is not accepted"+b));break;case"accepted":e.onAccepted&&e.onAccepted(f),y=!0;break;case"disposed":e.onDisposed&&e.onDisposed(f),v=!0;break;default:throw new Error("Unexception type "+f.type)}if(g)return{error:g};if(y)for(u in d[u]=m,c(l,f.outdatedModules),f.outdatedDependencies)i.o(f.outdatedDependencies,u)&&(h[u]||(h[u]=[]),c(h[u],f.outdatedDependencies[u]));v&&(c(l,[f.moduleId]),d[u]=p)}n=void 0;for(var w,_=[],x=0;x<l.length;x++){var k=l[x],E=i.c[k];E&&(E.hot._selfAccepted||E.hot._main)&&d[k]!==p&&!E.hot._selfInvalidated&&_.push({module:k,require:E.hot._requireSelf,errorHandler:E.hot._selfAccepted})}return{dispose:function(){var e;s.forEach((function(e){delete o[e]})),s=void 0;for(var t,n=l.slice();n.length>0;){var r=n.pop(),a=i.c[r];if(a){var c={},d=a.hot._disposeHandlers;for(x=0;x<d.length;x++)d[x].call(null,c);for(i.hmrD[r]=c,a.hot.active=!1,delete i.c[r],delete h[r],x=0;x<a.children.length;x++){var p=i.c[a.children[x]];p&&((e=p.parents.indexOf(r))>=0&&p.parents.splice(e,1))}}}for(var u in h)if(i.o(h,u)&&(a=i.c[u]))for(w=h[u],x=0;x<w.length;x++)t=w[x],(e=a.children.indexOf(t))>=0&&a.children.splice(e,1)},apply:function(t){for(var n in d)i.o(d,n)&&(i.m[n]=d[n]);for(var s=0;s<r.length;s++)r[s](i);for(var o in h)if(i.o(h,o)){var a=i.c[o];if(a){w=h[o];for(var c=[],p=[],u=[],f=0;f<w.length;f++){var m=w[f],g=a.hot._acceptedDependencies[m],y=a.hot._acceptedErrorHandlers[m];if(g){if(-1!==c.indexOf(g))continue;c.push(g),p.push(y),u.push(m)}}for(var v=0;v<c.length;v++)try{c[v].call(null,w)}catch(n){if("function"==typeof p[v])try{p[v](n,{moduleId:o,dependencyId:u[v]})}catch(s){e.onErrored&&e.onErrored({type:"accept-error-handler-errored",moduleId:o,dependencyId:u[v],error:s,originalError:n}),e.ignoreErrored||(t(s),t(n))}else e.onErrored&&e.onErrored({type:"accept-errored",moduleId:o,dependencyId:u[v],error:n}),e.ignoreErrored||t(n)}}}for(var b=0;b<_.length;b++){var x=_[b],k=x.module;try{x.require(k)}catch(n){if("function"==typeof x.errorHandler)try{x.errorHandler(n,{moduleId:k,module:i.c[k]})}catch(s){e.onErrored&&e.onErrored({type:"self-accept-error-handler-errored",moduleId:k,error:s,originalError:n}),e.ignoreErrored||(t(s),t(n))}else e.onErrored&&e.onErrored({type:"self-accept-errored",moduleId:k,error:n}),e.ignoreErrored||t(n)}}return l}}}self.webpackHotUpdateChatbotConnect=(t,s,o)=>{for(var c in s)i.o(s,c)&&(n[c]=s[c],e&&e.push(c));o&&r.push(o),a[t]&&(a[t](),a[t]=void 0)},i.hmrI.jsonp=function(e,t){n||(n={},r=[],s=[],t.push(h)),i.o(n,e)||(n[e]=i.m[e])},i.hmrC.jsonp=function(e,a,l,d,p,u){p.push(h),t={},s=a,n=l.reduce((function(e,t){return e[t]=!1,e}),{}),r=[],e.forEach((function(e){i.o(o,e)&&void 0!==o[e]?(d.push(c(e,u)),t[e]=!0):t[e]=!1})),i.f&&(i.f.jsonpHmr=function(e,n){t&&i.o(t,e)&&!t[e]&&(n.push(c(e)),t[e]=!0)})},i.hmrM=()=>{if("undefined"==typeof fetch)throw new Error("No browser support: need fetch API");return fetch(i.p+i.hmrF()).then((e=>{if(404!==e.status){if(!e.ok)throw new Error("Failed to fetch update manifest "+e.statusText);return e.json()}}))}})();var r=i(61);return r=r.default})()));